{
  "info": {
    "name": "Storage Management API",
    "_postman_id": "storage-management",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Login User",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123\"\n}"
        },
        "url": {
          "raw": "http://localhost:5000/v1/auth/login",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","auth","login"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"User logged in successfully\",\n  \"data\": {\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n      \"_id\": \"64f9c0a2f5e3a2b1c4d2ef12\",\n      \"name\": \"John Doe\",\n      \"email\": \"user@example.com\"\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Create Folder",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"type\": \"folder\",\n  \"name\": \"My Documents\",\n  \"parentId\": null\n}"
        },
        "url": {
          "raw": "http://localhost:5000/v1/storage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"Folder created successfully\",\n  \"data\": {\n    \"_id\": \"64f9c1b5f5e3a2b1c4d2ef34\",\n    \"name\": \"My Documents\",\n    \"type\": \"folder\",\n    \"parentId\": null,\n    \"createdAt\": \"2025-11-14T12:00:00Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Create Note",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"type\": \"note\",\n  \"name\": \"My Note\",\n  \"content\": \"This is a note content\",\n  \"parentId\": \"{{parentFolderId}}\"\n}"
        },
        "url": {
          "raw": "http://localhost:5000/v1/storage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"Note created successfully\",\n  \"data\": {\n    \"_id\": \"64f9c2c1f5e3a2b1c4d2ef56\",\n    \"name\": \"My Note\",\n    \"type\": \"note\",\n    \"content\": \"This is a note content\",\n    \"parentId\": \"{{parentFolderId}}\",\n    \"createdAt\": \"2025-11-14T12:05:00Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Upload PDF",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "type", "value": "file", "type": "text" },
            { "key": "file", "type": "file", "src": "/path/to/file.pdf" },
            { "key": "name", "value": "Test PDF", "type": "text" },
            { "key": "parentId", "value": "{{parentFolderId}}", "type": "text" }
          ]
        },
        "url": {
          "raw": "http://localhost:5000/v1/storage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"File uploaded successfully\",\n  \"data\": {\n    \"_id\": \"64f9c3d3f5e3a2b1c4d2ef78\",\n    \"name\": \"Test PDF\",\n    \"type\": \"file\",\n    \"fileUrl\": \"http://localhost:5000/uploads/file.pdf\",\n    \"parentId\": \"{{parentFolderId}}\",\n    \"createdAt\": \"2025-11-14T12:10:00Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Upload Image",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "type", "value": "file", "type": "text" },
            { "key": "file", "type": "file", "src": "/path/to/image.jpg" },
            { "key": "name", "value": "Test Image", "type": "text" },
            { "key": "parentId", "value": "{{parentFolderId}}", "type": "text" }
          ]
        },
        "url": {
          "raw": "http://localhost:5000/v1/storage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"File uploaded successfully\",\n  \"data\": {\n    \"_id\": \"64f9c4e5f5e3a2b1c4d2ef90\",\n    \"name\": \"Test Image\",\n    \"type\": \"file\",\n    \"fileUrl\": \"http://localhost:5000/uploads/image.jpg\",\n    \"parentId\": \"{{parentFolderId}}\",\n    \"createdAt\": \"2025-11-14T12:15:00Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Get All Storage",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" }
        ],
        "url": {
          "raw": "http://localhost:5000/v1/storage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"All storage items retrieved successfully\",\n  \"data\": [\n    {\n      \"_id\": \"64f9c1b5f5e3a2b1c4d2ef34\",\n      \"name\": \"My Documents\",\n      \"type\": \"folder\",\n      \"parentId\": null\n    },\n    {\n      \"_id\": \"64f9c2c1f5e3a2b1c4d2ef56\",\n      \"name\": \"My Note\",\n      \"type\": \"note\",\n      \"parentId\": \"64f9c1b5f5e3a2b1c4d2ef34\"\n    }\n  ]\n}"
        }
      ]
    },
    {
      "name": "Get Folder Tree",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" }
        ],
        "url": {
          "raw": "http://localhost:5000/v1/storage/tree",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage","tree"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"Folder tree retrieved successfully\",\n  \"data\": [\n    {\n      \"_id\": \"64f9c1b5f5e3a2b1c4d2ef34\",\n      \"name\": \"My Documents\",\n      \"type\": \"folder\",\n      \"children\": [\n        {\n          \"_id\": \"64f9c2c1f5e3a2b1c4d2ef56\",\n          \"name\": \"My Note\",\n          \"type\": \"note\"\n        }\n      ]\n    }\n  ]\n}"
        }
      ]
    },
    {
      "name": "Get Storage Usage",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{token}}" }
        ],
        "url": {
          "raw": "http://localhost:5000/v1/storage/usage",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["v1","storage","usage"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {},
          "status": "OK",
          "code": 200,
          "body": "{\n  \"status\": \"success\",\n  \"message\": \"Storage usage retrieved successfully\",\n  \"data\": {\n    \"total\": 104857600,\n    \"used\": 52428800,\n    \"available\": 52428800\n  }\n}"
        }
      ]
    }
  ]
}
